
<!DOCTYPE html> 
<html lang="es">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>5. En plantillas &mdash; Sylius en español</title>
    
    <link rel="stylesheet" href="../../_static/tnp.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/translations.js"></script>
    <link rel="shortcut icon" href="../../_static/icotnp.ico"/>
    <link rel="top" title="Sylius en español" href="../../index.html" />
    <link rel="up" title="SyliusCartBundle" href="index.html" />
    <link rel="next" title="6. Resumen" href="summary.html" />
    <link rel="prev" title="4. Usando los servicios" href="services.html" /> 
  </head>
  <body>
  <div class="imalogo">
    
    <a href="../../index.html"><img src="http://gitnacho.github.com/tnp/_static/normaltnp.png" alt="Traducciones de Nacho Pacheco" /></a>
    <div class="social">
      <a href="https://twitter.com/share" class="twitter-share-button" data-via="esymfony" data-lang="es">Tweet</a>
      <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
    </div>
    <div id="searchbox">
      <form class="searc " action="../../search.html" method="get">
      <input type="search" name="q" placeholder="Término a buscar" />
      <input type="submit" value="Ir" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <script type="text/javascript">$('#searchbox').show(0);</script>
    </div>
    
    <div class="related">
      <h3>Navegación</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="Índice General"
             accesskey="I">índice</a></li>
        <li class="right" >
          <a href="summary.html" title="6. Resumen"
             accesskey="N">siguiente</a> |</li>
        <li class="right" >
          <a href="services.html" title="4. Usando los servicios"
             accesskey="P">anterior</a> |</li>
        <li><a href="../../index.html">Sylius en español</a> &raquo;</li>
          <li><a href="../index.html" >Referencia de paquetes</a> &raquo;</li>
          <li><a href="index.html" accesskey="U"><tt class="docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal"><span class="pre">SyliusCartBundle</span></tt></a> &raquo;</li> 
      </ul>
    </div>
  </div>


    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="en-plantillas">
<h1>5. En plantillas<a class="headerlink" href="#en-plantillas" title="Enlazar permanentemente con este título">¶</a></h1>
<p>Al utilizar <em>Twig</em> como motor de plantillas, tienes acceso a dos convenientes funciones.</p>
<p>La fución <tt class="docutils literal"><span class="pre">sylius_cart_get</span></tt> usa proveedores para conseguir el carrito actual.</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">set</span> <span class="nv">cart</span> <span class="o">=</span> <span class="nv">sylius_cart_get</span><span class="o">()</span> <span class="cp">%}</span><span class="x"></span>

<span class="x">Current cart totals: </span><span class="cp">{{</span> <span class="nv">cart.total</span> <span class="cp">}}</span><span class="x"> for </span><span class="cp">{{</span> <span class="nv">cart.totalItems</span> <span class="cp">}}</span><span class="x"> items!</span>
</pre></div>
</div>
<p><tt class="docutils literal"><span class="pre">sylius_cart_form</span></tt> devuelve la vista del formulario para <tt class="docutils literal"><span class="pre">CartItem</span></tt>. Esta te facilita la construcción de acciones más complejas para añadir elementos al carrito. En este sencillo ejemplo permitimos proporcionar la cantidad de elementos. Deberás procesar este formulario en tu resolutor.</p>
<div class="highlight-jinja"><div class="highlight"><pre><span class="cp">{%</span> <span class="k">set</span> <span class="nv">form</span> <span class="o">=</span> <span class="nv">sylius_cart_form</span><span class="o">({</span><span class="s1">&#39;product&#39;</span><span class="o">:</span> <span class="nv">product</span><span class="o">})</span> <span class="cp">%}</span><span class="x"> </span><span class="c">{# puedes pasar opciones como argumento. #}</span><span class="x"></span>

<span class="x">&lt;form action=&quot;</span><span class="cp">{{</span> <span class="nv">path</span><span class="o">(</span><span class="s1">&#39;sylius_cart_item_add&#39;</span><span class="o">,</span> <span class="o">{</span><span class="s1">&#39;productId&#39;</span><span class="o">:</span> <span class="nv">product.id</span><span class="o">})</span> <span class="cp">}}</span><span class="x">&quot; method=&quot;post&quot;&gt;</span>
<span class="x">    </span><span class="cp">{{</span> <span class="nv">form_row</span><span class="o">(</span><span class="nv">form.quantity</span><span class="o">)</span><span class="cp">}}</span><span class="x"></span>
<span class="x">    &lt;input type=&quot;submit&quot; value=&quot;Add to cart&quot;&gt;</span>
<span class="x">&lt;/form&gt;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Puedes encontrar un ejemplo con múltiples variantes de este formulario en la aplicación <a class="reference external" href="https://github.com/Sylius/Sylius-Sandbox/blob/master/src/Sylius/Bundle/SandboxBundle/Form/Type/CartItemType.php">del entorno de pruebas Sylius</a>.
Te permite seleccionar variación/cantidad/opciones del producto. Además se adapta al tipo de producto.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
  <div style="width:740px;margin:10px auto;">
    <div class="related">
      <h3>Navegación</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="Índice General"
             >índice</a></li>
        <li class="right" >
          <a href="summary.html" title="6. Resumen"
             >siguiente</a> |</li>
        <li class="right" >
          <a href="services.html" title="4. Usando los servicios"
             >anterior</a> |</li>
        <li><a href="../../index.html">Sylius en español</a> &raquo;</li>
          <li><a href="../index.html" >Referencia de paquetes</a> &raquo;</li>
          <li><a href="index.html" ><tt class="docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal docutils literal"><span class="pre">SyliusCartBundle</span></tt></a> &raquo;</li> 
      </ul>
    </div>
  </div>

   <div style="width: 740px; margin: 0 auto;">
     <div id="disqus_thread"></div>
     
    <div class="footer">
        &copy; Copyright 2011-2013, Paweł Jędrzejewski :: Traducido por Nacho Pacheco.
      Actualizado por última vez en Feb 22, 2013.
      Creado con <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
   </div>
   <script type="text/javascript">
    var disqus_shortname = 'documentos-mx';
    var disqus_developer = 1;
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
   </script>
   <noscript>
     Por favor activa JavaScript para ver los <a href="http://disqus.com/?ref_noscript">comentarios accionados por Disqus.</a>
   </noscript>

  </body>
</html>